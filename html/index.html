<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../css/style.css" rel="stylesheet">
  <script src="scritp.js"></script>

  <title> Requisição XMLHttpRequest</title>
</head>
<body>
  <h1 class="title"> Imagens Aleatórias de Cachorros </h1>
  <p class="subtitle"> A partir do click no botão abaixo, uma nova imagem será exibida, utilizando requição assíncronas com <b>XLHttpRequest.</b></p>
  <img id="img_dog" src="" alt="Aguardando a imagem ser carregada" />
  <div id="divBtn"><button id="btn" onclick="carregarImagens() ">Gerar Imagem</button>
  </div>
  </body>

  <script type="text/javascript">
    
    function carregarImagens() {
        var url ="https://dog.ceo/api/breeds/image/random"
        fetch(url, {
            method: 'get'
      })
      .then (function(response) {
        response.json() .then (function(data){
        console.log('Resultado da Requisição' + data.message);
        var imgDog = document.getElementById("img_dog");
        imgDog.src = data.message;
      });    
 })
 .catch(function(err) {
      console.error ('O seguinte erro ocorreu durante a requisição:' + err);
 });
}
  </script>
</html>